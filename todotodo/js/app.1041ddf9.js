(function(t){function a(a){for(var i,l,n=a[0],r=a[1],d=a[2],u=0,h=[];u<n.length;u++)l=n[u],Object.prototype.hasOwnProperty.call(o,l)&&o[l]&&h.push(o[l][0]),o[l]=0;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i]);c&&c(a);while(h.length)h.shift()();return s.push.apply(s,d||[]),e()}function e(){for(var t,a=0;a<s.length;a++){for(var e=s[a],i=!0,n=1;n<e.length;n++){var r=e[n];0!==o[r]&&(i=!1)}i&&(s.splice(a--,1),t=l(l.s=e[0]))}return t}var i={},o={app:0},s=[];function l(a){if(i[a])return i[a].exports;var e=i[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,l),e.l=!0,e.exports}l.m=t,l.c=i,l.d=function(t,a,e){l.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,a){if(1&a&&(t=l(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(l.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var i in t)l.d(e,i,function(a){return t[a]}.bind(null,i));return e},l.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(a,"a",a),a},l.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},l.p="/todotodo/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],r=n.push.bind(n);n.push=a,n=n.slice();for(var d=0;d<n.length;d++)a(n[d]);var c=r;s.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"56d7":function(t,a,e){"use strict";e.r(a);e("cadf"),e("551c"),e("f751"),e("097d");var i=e("2b0e"),o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"app"}},[e("HelloWorld")],1)},s=[],l=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"wrapper"},[e("div",{staticClass:"main"},[e("div",{staticClass:"table"},[0===t.skills.length?e("div",{staticClass:"row tr"},[e("span",[t._v("什么都没有，快去添加几个要练习的技能吧～")])]):t._e(),t._l(t.skills,function(a,i){return[e("div",{staticClass:"row"},[e("div",{key:i,staticClass:"tr"},[e("span",{staticClass:"td name"},[t._v(t._s(a.name))]),e("span",{staticClass:"td total"},[t._v(t._s(a.total))]),e("Progress",{attrs:{length:+a.total}}),e("span",{staticClass:"td today"},[t._v(t._s(a.today))]),e("span",{staticClass:"add",on:{click:function(a){return t.increase(i)}}},[t._v("+")])],1),e("span",{staticClass:"del",on:{click:function(e){return t.del(a.name)}}},[t._v("+")])])]})],2),e("div",{staticClass:"control"},[e("div",{staticClass:"buttons"},[e("div",{staticClass:"button",on:{click:t.showAddDialog}},[t._v("新增")]),e("div",{staticClass:"button",on:{click:t.calcForToday}},[t._v("结算")]),e("div",{staticClass:"button",on:{click:t.showHelpDialog}},[t._v("帮助")])]),e("div",{staticClass:"time title"},[t._v("当前时间 "+t._s(t.time))]),t.chartLoading?t._e():e("v-chart",{staticClass:"chart",attrs:{options:t.chart}})],1)]),e("el-dialog",{staticClass:"modal",attrs:{visible:t.dialogAdd.show,width:"500px",top:"300px"},on:{"update:visible":function(a){return t.$set(t.dialogAdd,"show",a)}}},[e("div",{staticClass:"title"},[t._v("请输入名称")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.dialogAdd.text,expression:"dialogAdd.text"}],staticClass:"input",domProps:{value:t.dialogAdd.text},on:{input:function(a){a.target.composing||t.$set(t.dialogAdd,"text",a.target.value)}}}),e("div",{staticClass:"title"},[t._v("请输入初始值")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.dialogAdd.total,expression:"dialogAdd.total"}],staticClass:"input",attrs:{placeholder:"不输入默认为0"},domProps:{value:t.dialogAdd.total},on:{input:function(a){a.target.composing||t.$set(t.dialogAdd,"total",a.target.value)}}}),e("div",{staticClass:"footer"},[e("div",{staticClass:"dialog-button",on:{click:t.cancelAdd}},[t._v("取消")]),e("div",{staticClass:"dialog-button",on:{click:t.confirmAdd}},[t._v("确定")])])]),e("el-dialog",{staticClass:"modal",attrs:{visible:t.dialogDel.show,width:"500px",top:"300px"},on:{"update:visible":function(a){return t.$set(t.dialogDel,"show",a)}}},[e("div",{staticClass:"title"},[t._v("确定要删除"+t._s(t.dialogDel.delId)+"吗？")]),e("div",{staticClass:"footer"},[e("div",{staticClass:"dialog-button",on:{click:t.cancelDel}},[t._v("取消")]),e("div",{staticClass:"dialog-button",on:{click:t.confirmDel}},[t._v("确定")])])]),e("el-dialog",{staticClass:"modal",attrs:{visible:t.dialogHelp.show,width:"500px",top:"300px"},on:{"update:visible":function(a){return t.$set(t.dialogHelp,"show",a)}}},[e("div",{staticClass:"title help"},[t._v(t._s(t.dialogHelp.text))]),e("div",{staticClass:"footer"},[e("div",{staticClass:"dialog-button",on:{click:t.closeHelpDialog}},[t._v("我知道了")])])])],1)},n=[],r=(e("a481"),e("7f7f"),e("ac6a"),function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"progress-wrapper"},[e("progress",{style:{width:t.calcLength+"px"}})])}),d=[],c=(e("c5f6"),{name:"Progress",props:{length:{default:0,type:Number}},computed:{calcLength:function(){return this.length?230*(1-Math.pow(Math.E,-this.length/200)):0}}}),u=c,h=(e("828e"),e("2877")),p=Object(h["a"])(u,r,d,!1,null,"d6cee7c8",null),f=p.exports,g={show:!1,text:"",total:void 0},v={show:!1,delId:void 0},y={show:!1,text:"Hello~这里是帮助\n\n1. 左边是技能条，每一栏包含名字，技能点和当前未结算的技能点，平时练习的时候可以通过点击+按钮添加技能点，完成之后点击结算按钮，计入到总的技能点当中。\n\n2. 每天第一次进入的时候，如果有前一天没有结算的技能点，会自动结算。\n\n        "},m={name:"HelloWorld",components:{Progress:f},watch:{skills:{deep:!0,handler:function(t){localStorage.setItem("todotodo/skills",JSON.stringify(t))}},daily:{deep:!0,handler:function(t){localStorage.setItem("todotodo/daily",JSON.stringify(t))}},currentDay:function(t){localStorage.setItem("todotodo/current",JSON.stringify(t))}},methods:{day7Category:function(){return this.daily.slice(-7).map(function(t){return t.day})},day7Value:function(){return this.daily.slice(-7).map(function(t){return t.point})},calc:function(t){var a=0;this.skills.forEach(function(t){t.total=+t.total+t.today,a+=t.today,t.today=0});var e=this.daily[this.daily.length-1];e&&a?e.day===t?e.point+=a:this.daily.push({day:t,point:a}):a&&this.daily.push({day:t,point:a}),this.resetChartData()},calcForToday:function(){var t=new Date,a="".concat(t.getFullYear(),"/").concat(t.getMonth()+1,"/").concat(t.getDate());this.calc(a)},calcForLastDay:function(){var t=Date.now();t-=864e5,t=new Date(t);var a="".concat(t.getFullYear(),"/").concat(t.getMonth()+1,"/").concat(t.getDate()),e="".concat(t.getFullYear(),"/").concat(t.getMonth()+1,"/").concat(t.getDate()+1);e!==this.currentDay?(this.calc(a),this.currentDay=e):this.resetChartData()},increase:function(t){this.skills[t].today+=1},cancelDel:function(){this.dialogDel.delId=void 0,this.dialogDel.show=!1},confirmDel:function(){var t=this;this.skills=this.skills.filter(function(a){return a.name!==t.dialogDel.delId}),this.dialogDel.show=!1,this.dialogDel.delId=void 0},del:function(t){this.dialogDel.show=!0,this.dialogDel.delId=t},showHelpDialog:function(){this.dialogHelp.show=!0},closeHelpDialog:function(){this.dialogHelp.show=!1},showAddDialog:function(){this.dialogAdd.show=!0},cancelAdd:function(){this.dialogAdd.text="",this.dialogAdd.show=!1,this.dialogAdd.total=void 0},confirmAdd:function(){this.dialogAdd.total=(this.dialogAdd.total||"").replace(/\D/g,""),this.skills.push({name:this.dialogAdd.text,total:this.dialogAdd.total||0,today:0}),this.dialogAdd.text="",this.dialogAdd.total=void 0,this.dialogAdd.show=!1},resetChartData:function(){if(this.chartLoading=!0,this.chart.xAxis.data=this.day7Category()||[],this.chart.series[0].data=this.day7Value(),0===this.chart.xAxis.data.length)for(var t=0;t<7;t++)this.chart.xAxis.data.push("sample"),this.chart.series[0].data.push(Math.floor(20*Math.random()));else 1===this.chart.xAxis.data.length&&(this.chart.xAxis.data.unshift("sample"),this.chart.series[0].data.unshift(Math.floor(20*Math.random())));this.chartLoading=!1}},mounted:function(){var t=this;setInterval(function(){return t.time=new Date},1e3);var a=JSON.parse(localStorage.getItem("todotodo/skills"));a&&"null"!==a&&(this.skills=a);var e=JSON.parse(localStorage.getItem("todotodo/daily"));e&&"null"!==e&&(this.daily=e),this.currentDay=JSON.parse(localStorage.getItem("todotodo/current")),this.calcForLastDay()},data:function(){return{time:new Date,dialogAdd:Object.assign({},g),dialogDel:Object.assign({},v),dialogHelp:Object.assign({},y),currentDay:"",daily:[],skills:[],chartLoading:!0,chart:{tooltip:{trigger:"axis",axisPointer:{type:"cross"}},xAxis:{type:"category",boundaryGap:!1,data:[]},yAxis:{type:"value"},series:[{color:"rgba(255, 193, 56, 0.5)",data:[],type:"line",areaStyle:{color:"#38c1ff",opacity:.1}}]}}}},b=m,w=(e("87eb"),Object(h["a"])(b,l,n,!1,null,"10b881ea",null)),x=w.exports,C={name:"app",components:{HelloWorld:x}},D=C,_=(e("7faf"),Object(h["a"])(D,o,s,!1,null,null,null)),A=_.exports,k=e("9ca8"),O=e("5c96"),S=e.n(O);e("0fae"),e("ef97"),e("007d"),e("2f73");i["default"].config.productionTip=!1,i["default"].use(S.a),i["default"].component("v-chart",k["a"]),new i["default"]({render:function(t){return t(A)}}).$mount("#app")},"7faf":function(t,a,e){"use strict";var i=e("8fba"),o=e.n(i);o.a},"828e":function(t,a,e){"use strict";var i=e("e3c6"),o=e.n(i);o.a},"87eb":function(t,a,e){"use strict";var i=e("a688"),o=e.n(i);o.a},"8fba":function(t,a,e){},a688:function(t,a,e){},e3c6:function(t,a,e){}});
//# sourceMappingURL=app.1041ddf9.js.map
